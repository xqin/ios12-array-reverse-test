<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">

<style>
  body {
    text-align: center;
  }
  input[type=button] {
    width: 100px;
    height: 50px;
    margin: 10px;
  }
  pre {
    font-size: 24px;
  }
</style>

<pre id="output"></pre>


<script>
  ;(function () {
    if (/\(iPhone; CPU iPhone OS (\d+)_\d+ like Mac OS X\)/.test(navigator.userAgent) === false || RegExp.$1 !== '12') {
      return;
    }

    var backup = Array.prototype.reverse;
    Object.defineProperty(Array.prototype, 'reverse', {
      enumerable: false,
      value: function () {
        this.length = this.length; // magic
        return backup.apply(this, arguments);
      }
    });
  })();


  function output (txt) {
    document.getElementById('output').innerText += txt + '\n------------\n';
  }
  function clear () {
    document.getElementById('output').innerText = ''
  }

//Mozilla/5.0 (iPhone; CPU iPhone OS 12_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/13.2b11866 Mobile/16B5059d Safari/605.1.15



</script>

<script src="b.js"></script>

<script>
var a = [1, 2, 3]

output(a.join('\n')) // 输出a
output(b.join('\n')) // 输出b

// output(navigator.userAgent)

var d
fetch('d.json').then(function(response) { // 异步加载的数据 的测试
  return response.json();
}).then((v) => {
  d = v

  output(d.join('\n'))
})

function display () {
  clear()

  output(a.join('\n')) // 输出a
  output(b.join('\n')) // 输出b
  output(c.join('\n')) // 输出a
  output(d.join('\n')) // 输出b
}

function test1 () {
  a.reverse()
  b.reverse()
  c.reverse()
  d.reverse()

  display()
}

function test2 () {
  a = a.slice().reverse()
  b = b.slice().reverse()
  c = c.slice().reverse()
  d = d.slice().reverse()

  display()
}
</script>

<script src="c.js"></script>


<input type="button" value="reverse" onclick="test1()" /><br/>
<input type="button" value="slice.reverse" onclick="test2()" /><br/>
<input type="button" value="reload" onclick="location.reload()" /><br/>
